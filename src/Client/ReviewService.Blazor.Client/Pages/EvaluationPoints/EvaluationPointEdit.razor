@page "/evaluationpoints/edit/{Id:int}"
@if (_evaluationPointsTemplate != null)
{
    <MudContainer>
        <MudPaper Elevation="14" Class="px-4 mt-8  ml-8 mr-8">
            <EditForm Model="@_evaluationPointsTemplate" @ref="@_editForm">
                <FluentValidationValidator />
                <MudGrid>
                    <MudItem xs="12" sm="6">
                        <MudTextField Label="Name evaluation point" @bind-Value="@_evaluationPointsTemplate.Name" For="@(() =>@_evaluationPointsTemplate.Name)" />
                    </MudItem>
                    <MudItem xs="12" sm="6">
                        <MudTextField Label="Description evaluation point" @bind-Value="@_evaluationPointsTemplate.Description" For="@(() => @_evaluationPointsTemplate.Description)" />
                    </MudItem>
                </MudGrid>
            </EditForm>
        </MudPaper>
        <MudPaper Elevation="14" Class="px-4 mt-8  ml-8 mr-8">
            <EditForm Model="@_evaluationPoint" @ref="@_editFormItem">
                <FluentValidationValidator />
                <MudGrid>
                    <MudItem xs="12" sm="6">
                        <MudTextField Label="Name evaluation point item" @bind-Value="@_evaluationPoint.Name" For="@(() => @_evaluationPoint.Name)" />
                    </MudItem>
                    <MudItem xs="12" sm="6">
                        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Outlined" Color="Color.Primary" Class="ml-auto mt-2 mb-2 mr-2 justify-content-end" OnClick="OnAddRowClicked">AddRow</MudButton>
                    </MudItem>
                </MudGrid>
            </EditForm>
        </MudPaper>

        <MudTable Items="@_evaluationPointsTemplate.EvaluationPoints" Hover="true" Breakpoint="Breakpoint.None" Class="px-4 mt-8 ml-8 mr-8" Elevation="14">
            <HeaderContent>
                <MudTh>Order</MudTh>
                <MudTh>Name</MudTh>
                <MudTh>Action</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Order"></MudTd>
                <MudTd DataLabel="Name">@context.Name</MudTd>
                <MudTd DataLabel="Action">
                    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Text" Color="Color.Error" Class="ml-auto" OnClick="() => OnDeleteClicked(context)">Delete</MudButton>
                </MudTd>
            </RowTemplate>
        </MudTable>
    </MudContainer>
}
else
{
    <Loading/>
}
